<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Product Management</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
</head>
<body>
<div class="container mt-5">
  <h2>Product Management</h2>
  <table class="table mt-4">
    <thead>
    <tr>
      <th>ID</th>
      <th>Name</th>
      <th>Price</th>
      <th>Image</th>
      <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="product : ${products}">
      <td th:text="${product.id}"></td>
      <td><input th:value="${product.name}" class="form-control name-input"/></td>
      <td><input th:type="number" th:value="${product.price}" class="form-control price-input"/></td>
      <td><input th:value="${product.imageUrl}" class="form-control image-input"/></td>
      <td>
        <button th:attr="data-id=${product.id}" class="btn btn-success save-btn">Save</button>
        <button th:attr="data-id=${product.id}" class="btn btn-danger delete-btn">Delete</button>
      </td>
    </tr>
    <tr>
      <td>#</td>
      <td><input form="addProductForm" type="text" name="name" placeholder="Name" required class="form-control"></td>
      <td><input form="addProductForm" type="number" name="price" placeholder="Price" required class="form-control"></td>
      <td><input form="addProductForm" type="text" name="imageUrl" placeholder="Image URL" required class="form-control"></td>
      <td><button form="addProductForm" type="submit" class="btn btn-success">Add Product</button></td>
    </tr>
    </tbody>
  </table>
  <form id="addProductForm" action="/api/products" method="post" style="display:none;"></form>
</div>
<script src="/js/products.js"></script>
</body>
</html>
