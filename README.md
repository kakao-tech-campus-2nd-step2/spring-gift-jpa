# spring-gift-jpa

## step0

fork 후, 2주차 과제 옮기기

피드백 반영하기

## step1

### 요구사항

지금까지 작성한 JdbcTemplate 기반 코드를 JPA로 리팩터링하고 실제 도메인 모델을 어떻게 구성하고 객체와 테이블을 어떻게 매핑해야 하는지 알아본다.

* 아래의 DDL(Data Definition Language)을 보고 유추하여 엔티티 클래스와 리포지토리 클래스를 작성해 본다.
* `@DataJpaTest`를 사용하여 학습 테스트를 해 본다.

<pre id="sql-light-a7wesklydd" class="hljs-code-block overflow-hidden relative d-flex mt-3 mb-8"><button type="button" class="clipboard-btn v-btn v-btn--flat v-btn--icon v-btn--round theme--light v-size--default absolute right-10 top-10 z-1 grey--text text--lighten-2"><span class="v-btn__content"><i aria-hidden="true" class="v-icon notranslate mdi mdi-clipboard theme--light"></i></span></button><code class="relative pa-4 lh-1-3 text-normal width-100 ls-0
                   language-sql light hljs">create table member
(
    id       bigint generated by default as identity,
    email    varchar(255) not null unique,
    password varchar(255) not null,
    primary key (id)
)
</code></pre>

<pre id="sql-light-ul5i3l6362" class="hljs-code-block overflow-hidden relative d-flex mt-3 mb-8"><button type="button" class="clipboard-btn v-btn v-btn--flat v-btn--icon v-btn--round theme--light v-size--default absolute right-10 top-10 z-1 grey--text text--lighten-2"><span class="v-btn__content"><i aria-hidden="true" class="v-icon notranslate mdi mdi-clipboard theme--light"></i></span></button><code class="relative pa-4 lh-1-3 text-normal width-100 ls-0
                   language-sql light hljs">create table product
(
    price     integer      not null,
    id        bigint generated by default as identity,
    name      varchar(15)  not null,
    image_url varchar(255) not null,
    primary key (id)
)
</code></pre>

<pre id="sql-light-nbcucpe5jr" class="hljs-code-block overflow-hidden relative d-flex mt-3 mb-8"><button type="button" class="clipboard-btn v-btn v-btn--flat v-btn--icon v-btn--round theme--light v-size--default absolute right-10 top-10 z-1 grey--text text--lighten-2"><span class="v-btn__content"><i aria-hidden="true" class="v-icon notranslate mdi mdi-clipboard theme--light"></i></span></button><code class="relative pa-4 lh-1-3 text-normal width-100 ls-0
language-sql light hljs">create table wish
(
id         bigint generated by default as identity,
member_id  bigint not null,
product_id bigint not null,
primary key (id)
)
</code></pre>

## step2

JPA로 리팩토링한 코드를 테이블-객체 패러다임 불일치를 해결하도록 외래키 참조를 진행한다.
